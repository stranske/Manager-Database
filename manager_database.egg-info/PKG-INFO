Metadata-Version: 2.4
Name: manager-database
Version: 0.1.0
Summary: Manager Database Application
Author: stranske
License: MIT
Requires-Python: >=3.11
Description-Content-Type: text/markdown
Requires-Dist: httpx
Requires-Dist: prefect
Requires-Dist: jsonschema<4.23.0,>=4.17.3
Requires-Dist: beautifulsoup4
Requires-Dist: boto3
Requires-Dist: requests
Requires-Dist: psycopg[binary]
Requires-Dist: streamlit
Requires-Dist: pandas
Requires-Dist: streamlit-authenticator
Requires-Dist: altair
Requires-Dist: fastapi
Requires-Dist: uvicorn
Provides-Extra: dev
Requires-Dist: pytest; extra == "dev"
Requires-Dist: pytest-asyncio; extra == "dev"
Requires-Dist: pytest-cov; extra == "dev"
Requires-Dist: black; extra == "dev"
Requires-Dist: ruff; extra == "dev"
Requires-Dist: pre-commit; extra == "dev"
Requires-Dist: mypy; extra == "dev"
Requires-Dist: coverage; extra == "dev"
Requires-Dist: referencing; extra == "dev"

# Manager-Intel Bootstrap

This repo provides a minimal stack to begin experimenting with the Manager-Intel
project.

## Quick start

1. Copy `.env.example` to `.env` and adjust passwords as needed. The file now
   includes a `DB_URL` pointing at the bundled Postgres container.
2. Run `docker compose up -d` to start Postgres, MinIO and a placeholder ETL
   container.
3. Run `pytest -q` to verify the environment.

The `schema.sql` file defines an `api_usage` table used for cost telemetry.
Apply it to the Postgres container once it is running:

```bash
docker exec -i <db_container_name> psql -U postgres -f /path/to/schema.sql
```

Feel free to open issues or pull requests as you iterate.

## Running the ETL flow

1. Ensure Python 3.12 is available via `pyenv` and install dependencies:
   ```bash
   python -m pip install -r requirements.txt
   ```
2. Trigger the sample EDGAR flow:
   ```bash
   python etl/edgar_flow.py
   ```
   Parsed rows will be stored in `dev.db` and raw filings uploaded to the
   `filings` bucket in MinIO.

3. Start the Streamlit dashboard:
   ```bash
   streamlit run ui/dashboard.py
   ```

4. Explore daily reports and news search:
   ```bash
   streamlit run ui/daily_report.py
   ```
   ```bash
   streamlit run ui/search.py
   ```
5. Upload your own notes:
   ```bash
   streamlit run ui/upload.py
   ```

6. Start the chat API:
   ```bash
   uvicorn api.chat:app --reload
   ```

## Further reading

- SEC EDGAR API docs[^1]
- Companies House API swagger[^2]
- Prefect 2.0 "flows & deployments" guide[^3]
- Streamlit authentication examples[^4]

[^1]: https://www.sec.gov/os/accessing-edgar-data
[^2]: https://developer.company-information.service.gov.uk/documentation
[^3]: https://docs.prefect.io/latest/guides/flows/#deployments
[^4]: https://github.com/mkhorbani/streamlit-authenticator
